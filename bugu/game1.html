<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¶€êµ¬ì´ˆ - ê²Œì„1</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f0f8ff;
      margin: 0;
      padding: 20px;
    }
    .container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .game-img {
      position: relative;
    }
    .game-img img {
      max-width: 600px;
      height: auto;
    }
    .marker {
      position: absolute;
      border: 3px solid red;
      border-radius: 50%;
      pointer-events: none;
    }
    .logo {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 120px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- ë¡œê³  -->
  <a href="../index.html">
    <img src="../ë¡œê³ _ë°”ë¥¸ì—ë“€.png" alt="ë°”ë¥¸ì—ë“€ ë¡œê³ " class="logo">
  </a>

  <h1>ë¶€êµ¬ì´ˆ í‹€ë¦°ê·¸ë¦¼ì°¾ê¸° - ì‚¬ì§„1</h1>
  <p id="instructions">í‹€ë¦° ê³³ì„ ì°¾ì•„ í´ë¦­í•˜ì„¸ìš”!</p>

  <div class="container">
    <div class="game-img">
      <img src="ì›ë³¸_ë¶€êµ¬1.jpg" usemap="#map-bugu1">
    </div>
    <div class="game-img">
      <img src="ìˆ˜ì •ë³¸_ë¶€êµ¬1.jpg" usemap="#map-bugu1">
    </div>
  </div>

  <map name="map-bugu1">
    <area shape="circle" coords="1619,1025,50" href="#">
    <area shape="circle" coords="741,645,37" href="#">
    <area shape="circle" coords="919,640,34" href="#">
    <area shape="circle" coords="1509,53,58" href="#">
    <area shape="circle" coords="1033,158,25" href="#">
    <area shape="circle" coords="337,113,32" href="#">
  </map>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/image-map-resizer/1.0.10/js/imageMapResizer.min.js"></script>
  <script>
    window.onload = function() {
      imageMapResize(); // ì¢Œí‘œ ìë™ ë¦¬ì‚¬ì´ì¦ˆ

      const areas = document.querySelectorAll("area");
      const container = document.querySelector(".container");
      let found = 0;
      const total = areas.length;

      // ì•ˆë‚´ë¬¸ì— ì´ ê°œìˆ˜ í‘œì‹œ
      document.getElementById("instructions").innerHTML = 
        `í‹€ë¦° ê³³ì„ ì°¾ì•„ í´ë¦­í•˜ì„¸ìš”! (ì´ <b>${total}ê³³</b>)`;

      areas.forEach(area => {
        area.addEventListener("click", e => {
          e.preventDefault();

          // ì´ë¯¸ ì°¾ì€ ê³³ì´ë©´ ë¬´ì‹œ
          if (area.dataset.found === "true") return;
          area.dataset.found = "true";

          const coords = area.coords.split(",");
          let x, y, w, h;

          if (area.shape === "rect") {
            const x1 = parseInt(coords[0]);
            const y1 = parseInt(coords[1]);
            const x2 = parseInt(coords[2]);
            const y2 = parseInt(coords[3]);
            w = x2 - x1;
            h = y2 - y1;
            x = x1 + w / 2;
            y = y1 + h / 2;
          } else if (area.shape === "circle") {
            x = parseInt(coords[0]);
            y = parseInt(coords[1]);
            w = h = parseInt(coords[2]) * 2;
          }

          // ë§ˆì»¤ í‘œì‹œ
          container.querySelectorAll(".game-img").forEach(imgBox => {
            const marker = document.createElement("div");
            marker.className = "marker";
            marker.style.width = w + "px";
            marker.style.height = h + "px";
            marker.style.left = (x - w/2) + "px";
            marker.style.top = (y - h/2) + "px";
            imgBox.appendChild(marker);
          });

          found++;
          if (found === total) {
            alert("ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  í‹€ë¦° ê³³ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤ ğŸ‰");
          }
        });
      });
    };
  </script>

  <p><a href="index.html">â† ë¶€êµ¬ì´ˆ ì‚¬ì§„ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a></p>
</body>
</html>
